!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.zlide=factory()}(this,function(){"use strict";function parseProps(props){return"function"==typeof props?{element:props()}:"string"==typeof props?{element:document.querySelector(props)}:props instanceof Element?{element:props}:props||{}}function setToCollapsed(props){var ref=parseProps(props),element=ref.element,doneCallback=ref.doneCallback,el=element;el.classList.add("zlide-inert"),el.setAttribute("inert",""),el.style.maxHeight="0px",doneCallback&&doneCallback({type:"collapsed"})}function setToExpanded(props){var ref=parseProps(props),element=ref.element,doneCallback=ref.doneCallback,el=element;el.style.display="",el.style.maxHeight="",element.removeAttribute("inert"),doneCallback&&doneCallback({type:"expanded"})}function collapse(props){var ref=parseProps(props),element=ref.element,beforeCallback=ref.beforeCallback,doneCallback=ref.doneCallback;beforeCallback&&beforeCallback({type:"collapsing"});var el=element,height=element.scrollHeight,elTransitionBackup=element.style.transition;el.style.transition="max-height 0s !important";var transitionEvent=function(event){"max-height"===event.propertyName&&(el[REL](TRANSITION_END,transitionEvent),setToCollapsed({element:el,doneCallback:doneCallback}))};rAF(function(){el.style.maxHeight=height+"px",el.style.transition=elTransitionBackup,el[AEL](TRANSITION_END,transitionEvent),rAF(function(){el.style.maxHeight="0px"})})}function expand(props){var ref=parseProps(props),element=ref.element,beforeCallback=ref.beforeCallback,doneCallback=ref.doneCallback;beforeCallback&&beforeCallback({type:"expanding"});var el=element;el.classList.remove("zlide-inert");var transitionEvent=function(event){"max-height"===event.propertyName&&(element[REL](TRANSITION_END,transitionEvent),setToExpanded({element:el,doneCallback:doneCallback}))};element.addEventListener(TRANSITION_END,transitionEvent),rAF(function(){rAF(function(){el.style.maxHeight=element.scrollHeight+"px"})})}var rAF=window.requestAnimationFrame||function(callback){return setTimeout(callback,0)},TRANSITION_END="transitionend",AEL="addEventListener",REL="removeEventListener",zlide=function(){};return zlide.toggle=function(props){var element=props.element,beforeCallback=props.beforeCallback,doneCallback=props.doneCallback;"0px"===element.style.maxHeight?expand({element:element,beforeCallback:beforeCallback,doneCallback:doneCallback}):collapse({element:element,beforeCallback:beforeCallback,doneCallback:doneCallback})},zlide.collapse=collapse,zlide.up=collapse,zlide.expand=expand,zlide.down=expand,zlide.setToCollapsed=setToCollapsed,zlide.setToExpanded=setToExpanded,zlide});